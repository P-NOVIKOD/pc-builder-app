<!DOCTYPE html>
<html>
<head>
    <title>PC Builder - –í—Ö–æ–¥</title>
    <style>
        body { font-family: Arial; margin: 0; padding: 20px; background: #f5f5f5; }
        .login-container { max-width: 400px; margin: 100px auto; background: white; padding: 40px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        button { width: 100%; padding: 12px; background: #007acc; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .user-list { margin-top: 20px; }
        .user-card { padding: 10px; border: 1px solid #ddd; margin: 5px 0; cursor: pointer; }
        .user-card:hover { background: #f0f0f0; }
    </style>
</head>
<body>
    <div class="login-container">
        <h1>üñ•Ô∏è PC Builder</h1>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤—Ö–æ–¥–∞:</p>
        
        <div class="user-list" id="users-list">
            –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <p>–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</p>
            <button onclick="showCreateUser()">–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
        </div>
    </div>

    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        fetch('/api/users')
            .then(r => r.json())
            .then(users => {
                const container = document.getElementById('users-list');
                container.innerHTML = users.map(user => 
                    `<div class="user-card" onclick="login(${user.id})">
                        <strong>${user.username}</strong><br>
                        <small>${user.email}</small>
                    </div>`
                ).join('');
            });

        function login(userId) {
            // –ü—Ä–æ—Å—Ç–æ–π –≤—Ö–æ–¥ - —Å–æ—Ö—Ä–∞–Ω—è–µ–º ID –≤ localStorage
            localStorage.setItem('currentUserId', userId);
            window.location.href = '/builder';
        }

        function showCreateUser() {
            const username = prompt('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:');
            const email = prompt('–í–≤–µ–¥–∏—Ç–µ email:');
            if (username && email) {
                fetch('/api/users', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({username, email})
                }).then(() => location.reload());
            }
        }
    </script>
</body>
</html>